import React from "react";
import { Link, useLocation } from "react-router-dom";
import { getDecodedToken } from "../../utils/auth";

const Sidebar: React.FC = () => {
  const location = useLocation(); // Use the hook to get the current location
  const token = localStorage.getItem("token")
  const decoded = getDecodedToken(token)
  return (
    <>
      <div className="navbar sidenav p-0 d-none" key={location.pathname}>
        <div className="overflow-hidden flex-fill mt-100 mb-100">
          <div className="scrollbar">
            {decoded?.isSuperAdmin ? (<ul className="nav flex-column">
              <li className="nav-item">
                <Link
                  to="/admin"
                  className={`nav-link ${location.pathname.startsWith("/admin") ? "active" : ""
                    }`}
                >
                  <span className="mb-1">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="32"
                      height="29"
                      viewBox="0 0 32 29"
                      fill="none"
                    >
                      <path
                        d="M15.6542 0.0654297C15.6542 0.0654297 6.02397 8.37862 0.642195 12.8808C0.470869 13.03 0.332845 13.2135 0.237094 13.4195C0.141343 13.6255 0.0900084 13.8493 0.0864258 14.0764C0.0864258 14.4893 0.250443 14.8853 0.542395 15.1772C0.834347 15.4692 1.23032 15.6332 1.6432 15.6332H4.75676V26.5306C4.75676 26.9435 4.92077 27.3395 5.21272 27.6314C5.50468 27.9234 5.90065 28.0874 6.31353 28.0874H10.9839C11.3967 28.0874 11.7927 27.9234 12.0847 27.6314C12.3766 27.3395 12.5406 26.9435 12.5406 26.5306V20.3035H18.7677V26.5306C18.7677 26.9435 18.9318 27.3395 19.2237 27.6314C19.5157 27.9234 19.9116 28.0874 20.3245 28.0874H24.9949C25.4077 28.0874 25.8037 27.9234 26.0957 27.6314C26.3876 27.3395 26.5516 26.9435 26.5516 26.5306V15.6332H29.6652C30.0781 15.6332 30.474 15.4692 30.766 15.1772C31.0579 14.8853 31.222 14.4893 31.222 14.0764C31.2198 13.845 31.165 13.617 31.0617 13.4099C30.9584 13.2027 30.8093 13.0218 30.6257 12.8808C25.2813 8.37862 15.6542 0.0654297 15.6542 0.0654297Z"
                        fill="#85C5A2"
                      />
                    </svg>
                  </span>
                  <span>Admin </span>
                </Link>
              </li>
            </ul>) :
              (<ul className="nav flex-column">
                <li className="nav-item">
                  <Link
                    to="/home"
                    className={`nav-link ${location.pathname.startsWith("/home") ? "active" : ""
                      }`}
                  >
                    <span className="mb-1">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="32"
                        height="29"
                        viewBox="0 0 32 29"
                        fill="none"
                      >
                        <path
                          d="M15.6542 0.0654297C15.6542 0.0654297 6.02397 8.37862 0.642195 12.8808C0.470869 13.03 0.332845 13.2135 0.237094 13.4195C0.141343 13.6255 0.0900084 13.8493 0.0864258 14.0764C0.0864258 14.4893 0.250443 14.8853 0.542395 15.1772C0.834347 15.4692 1.23032 15.6332 1.6432 15.6332H4.75676V26.5306C4.75676 26.9435 4.92077 27.3395 5.21272 27.6314C5.50468 27.9234 5.90065 28.0874 6.31353 28.0874H10.9839C11.3967 28.0874 11.7927 27.9234 12.0847 27.6314C12.3766 27.3395 12.5406 26.9435 12.5406 26.5306V20.3035H18.7677V26.5306C18.7677 26.9435 18.9318 27.3395 19.2237 27.6314C19.5157 27.9234 19.9116 28.0874 20.3245 28.0874H24.9949C25.4077 28.0874 25.8037 27.9234 26.0957 27.6314C26.3876 27.3395 26.5516 26.9435 26.5516 26.5306V15.6332H29.6652C30.0781 15.6332 30.474 15.4692 30.766 15.1772C31.0579 14.8853 31.222 14.4893 31.222 14.0764C31.2198 13.845 31.165 13.617 31.0617 13.4099C30.9584 13.2027 30.8093 13.0218 30.6257 12.8808C25.2813 8.37862 15.6542 0.0654297 15.6542 0.0654297Z"
                          fill="#85C5A2"
                        />
                      </svg>
                    </span>
                    <span>Home </span>
                  </Link>
                </li>
                <li className="nav-item">
                  <Link
                    to="/designs"
                    className={`nav-link ${location.pathname.startsWith("/designs") ? "active" : ""
                      }`}
                  >
                    <span className="mb-21">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="29"
                        height="29"
                        viewBox="0 0 29 29"
                        fill="none"
                      >
                        <path
                          d="M14.1545 0.373047C15.1022 0.373047 15.9734 0.373047 16.7784 0.379416V28.3887C15.9734 28.395 15.1022 28.395 14.1545 28.395C8.20879 28.395 5.23591 28.395 3.19668 26.864C2.62004 26.431 2.10759 25.9185 1.67457 25.3419C0.143555 23.3027 0.143555 20.3298 0.143555 14.384C0.143555 8.43828 0.143555 5.4654 1.67457 3.42744C2.1075 2.85035 2.61995 2.33747 3.19668 1.90407C5.23591 0.373047 8.20879 0.373047 14.1545 0.373047ZM25.1111 26.864C23.6744 27.9441 21.7714 28.2626 18.689 28.3555V13.1103H28.1655V14.384C28.1655 20.3298 28.1655 23.3027 26.6345 25.3419C26.2014 25.9189 25.6894 26.4309 25.1124 26.864H25.1111ZM28.1528 11.1997H18.689V0.411259C21.7714 0.505515 23.6744 0.823946 25.1124 1.90407C25.6891 2.33747 26.2016 2.85035 26.6345 3.42744C27.8637 5.06418 28.1044 7.30339 28.1528 11.1997Z"
                          fill="#85C5A2"
                        />
                      </svg>
                    </span>
                    <span>Designs</span>
                  </Link>
                </li>
                <li className="nav-item">
                  <Link
                    to="/grow"
                    className={`nav-link ${location.pathname.startsWith("/grow") ? "active" : ""
                      }`}
                  >
                    <span className="mb-1">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="29"
                        height="29"
                        viewBox="0 0 29 29"
                        fill="none"
                      >
                        <path
                          d="M3.38862 17.6623H0.180868V16.4963C0.163216 14.8614 0.5962 13.2532 1.43232 11.8481C2.26844 10.4431 3.4754 9.29544 4.92078 8.53114C6.34466 7.82908 7.88674 7.39809 9.46829 7.26017C8.77723 8.11526 8.08422 9.02398 7.38926 9.98635C5.824 12.4174 4.48485 14.9868 3.38862 17.6623ZM18.3511 20.9424C15.9203 22.5096 13.3509 23.8507 10.6751 24.9488V28.1566H11.8412C13.4761 28.1742 15.0843 27.7413 16.4893 26.9051C17.8944 26.069 19.042 24.8621 19.8063 23.4167C20.5084 21.9928 20.9394 20.4507 21.0773 18.8692C20.2261 19.5571 19.3174 20.2482 18.3511 20.9424ZM28.1656 3.65947C28.0105 8.7352 24.3562 13.7689 16.9927 19.0511C14.9889 20.35 12.8749 21.4706 10.6751 22.3999V21.7434C10.6699 20.6627 10.2383 19.6276 9.47405 18.8634C8.70982 18.0992 7.6748 17.6675 6.59403 17.6623H5.93756C6.86793 15.4626 7.99009 13.3489 9.29106 11.3459C14.5603 3.99412 19.5859 0.339783 24.6535 0.171875C27.1791 0.171875 28.1656 1.20381 28.1656 3.65947ZM21.1694 10.0831C21.1694 9.31 20.8623 8.56854 20.3156 8.02186C19.7689 7.47518 19.0275 7.16805 18.2543 7.16805C17.4812 7.16805 16.7397 7.47518 16.1931 8.02186C15.6464 8.56854 15.3393 9.31 15.3393 10.0831C15.3393 10.8563 15.6464 11.5977 16.1931 12.1444C16.7397 12.6911 17.4812 12.9982 18.2543 12.9982C19.0275 12.9982 19.7689 12.6911 20.3156 12.1444C20.8623 11.5977 21.1694 10.8563 21.1694 10.0831ZM1.78299 27.9059C3.09594 27.6727 6.26171 27.022 7.3193 25.9656C7.64416 25.6408 7.90185 25.2551 8.07766 24.8307C8.25347 24.4062 8.34396 23.9513 8.34396 23.4919C8.34396 23.0325 8.25347 22.5776 8.07766 22.1531C7.90185 21.7287 7.64416 21.343 7.3193 21.0182C6.99445 20.6933 6.60879 20.4356 6.18434 20.2598C5.7599 20.084 5.30498 19.9935 4.84557 19.9935C3.91774 19.9935 3.02791 20.3621 2.37184 21.0182C1.31541 22.0757 0.663604 25.2415 0.431564 26.5545L0.143555 28.1939L1.78299 27.9059Z"
                          fill="#85C5A2"
                        />
                      </svg>
                    </span>
                    <span>Grow</span>
                  </Link>
                </li>
                <li className="nav-item">
                  <Link
                    to="/leads"
                    className={`nav-link ${location.pathname.startsWith("/leads") ? "active" : ""
                      }`}
                  >
                    <span className="mb-1">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="29"
                        height="29"
                        viewBox="0 0 29 29"
                        fill="none"
                      >
                        <path
                          d="M23.4948 0.480469H4.81346C2.21711 0.500993 0.127609 2.61977 0.143153 5.21618V19.4256C0.127609 22.0222 2.21694 24.1413 4.81346 24.1625H8.22629L12.6024 27.8988C13.4692 28.6909 14.7937 28.7025 15.6743 27.9256L20.1637 24.1613H23.4948C26.0913 24.1402 28.1806 22.0211 28.1651 19.4245V5.21618C28.1807 2.61977 26.0912 0.500993 23.4948 0.480469ZM14.1541 4.03225C19.5425 4.17472 19.5414 12.1785 14.1541 12.3221C8.76577 12.1784 8.76692 4.17817 14.1541 4.03225ZM19.1152 20.5722C18.4904 20.7317 17.8546 20.3543 17.6952 19.7295C17.6945 19.7267 17.6938 19.7239 17.6931 19.7211C17.0955 17.7663 15.0263 16.666 13.0715 17.2636C11.8948 17.6234 10.9738 18.5444 10.614 19.7211C10.4509 20.3453 9.8126 20.719 9.1884 20.5559C8.5642 20.3927 8.19044 19.7544 8.35359 19.1302C9.25643 15.9264 12.5856 14.061 15.7894 14.9638C17.8087 15.5329 19.3868 17.111 19.9558 19.1302C20.1184 19.7601 19.7434 20.4033 19.1152 20.5722Z"
                          fill="#85C5A2"
                        />
                      </svg>
                    </span>
                    <span>Leads</span>
                  </Link>
                </li>
                <li className="nav-item">
                  <Link
                    to="/business"
                    className={`nav-link ${location.pathname.startsWith("/business") ? "active" : ""
                      }`}
                  >
                    <span className="mb-1">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="29"
                        height="29"
                        viewBox="0 0 29 29"
                        fill="none"
                      >
                        <path
                          d="M28.6655 7.79288V12.2764C28.6655 13.1521 28.0088 13.8964 27.1418 14.019L17.2816 15.3238V14.7984C17.2816 13.8351 16.4935 13.047 15.5302 13.047H13.7789C12.8156 13.047 12.0275 13.8351 12.0275 14.7984V15.3238L2.16725 14.019C1.30032 13.8964 0.643555 13.1521 0.643555 12.2764V7.79288C0.643555 6.82962 1.43167 6.0415 2.39493 6.0415H26.9142C27.8774 6.0415 28.6655 6.82962 28.6655 7.79288Z"
                          fill="#85C5A2"
                        />
                        <path
                          d="M15.5307 14.7983V17.4254C15.5307 17.907 15.1366 18.3011 14.655 18.3011C14.1734 18.3011 13.7793 17.907 13.7793 17.4254V14.7983H15.5307Z"
                          fill="#85C5A2"
                        />
                        <path
                          d="M27.7896 15.6653V26.1823C27.7896 27.6272 26.6075 28.8093 25.1626 28.8093H4.1461C2.70122 28.8093 1.51904 27.6272 1.51904 26.1823V15.6653C1.6504 15.7091 1.79051 15.7353 1.93062 15.7529L12.0273 17.0927V17.4254C12.0273 18.8703 13.2095 20.0525 14.6543 20.0525C16.0992 20.0525 17.2814 18.8703 17.2814 17.4254V17.0927L27.3781 15.7529C27.5182 15.7353 27.6582 15.7091 27.7896 15.6653Z"
                          fill="#85C5A2"
                        />
                        <path
                          d="M19.9083 7.79285H9.4001C8.91611 7.79285 8.52441 7.40072 8.52441 6.91716V3.41441C8.52441 1.96577 9.70283 0.787354 11.1515 0.787354H18.157C19.6056 0.787354 20.784 1.96577 20.784 3.41441V6.91716C20.784 7.40072 20.3923 7.79285 19.9083 7.79285ZM10.2758 6.04147H19.0327V3.41441C19.0327 2.93165 18.6402 2.53873 18.157 2.53873H11.1515C10.6683 2.53873 10.2758 2.93165 10.2758 3.41441V6.04147Z"
                          fill="#85C5A2"
                        />
                      </svg>
                    </span>
                    <span>Business</span>
                  </Link>
                </li>
                <li className="nav-item">
                  <Link
                    to="/taskspace"
                    className={`nav-link ${location.pathname.startsWith("/taskspace") ? "active" : ""
                      }`}
                  >
                    <span className="mb-1">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="42"
                        height="30"
                        viewBox="0 0 42 30"
                        fill="none"
                      >
                        <path
                          d="M39.8809 26.7969H2.42781C1.63553 26.7969 0.987305 27.4451 0.987305 28.2374C0.987305 29.0297 1.63553 29.6779 2.42781 29.6779H39.8809C40.6732 29.6779 41.3214 29.0297 41.3214 28.2374C41.3214 27.4451 40.6732 26.7969 39.8809 26.7969Z"
                          fill="#85C5A2"
                        />
                        <path
                          d="M34.1187 0.867676H25.4757V2.30818C25.4757 3.10046 24.8275 3.74868 24.0352 3.74868H18.2732C17.4809 3.74868 16.8327 3.10046 16.8327 2.30818V0.867676H8.18967C5.81284 0.867676 3.86816 2.81235 3.86816 5.18918V22.4752C3.86816 23.2675 4.51639 23.9157 5.30867 23.9157H36.9997C37.792 23.9157 38.4402 23.2675 38.4402 22.4752V5.18918C38.4402 2.81235 36.4956 0.867676 34.1187 0.867676Z"
                          fill="#85C5A2"
                        />
                      </svg>
                    </span>
                    <span>Workspace</span>
                  </Link>
                </li>
              </ul>)}
          </div>
          <ul className="nav needHelpLink">
            <li className="nav-item">
              <Link to="/help" className="nav-link">
                <span className="mb-1">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="21"
                    height="21"
                    viewBox="0 0 21 21"
                    fill="none"
                  >
                    <path
                      d="M10.2793 0.862061C4.7653 0.862061 0.279297 5.34806 0.279297 10.8621V15.0051C0.279297 16.0291 1.1763 16.8621 2.2793 16.8621H3.2793C3.54451 16.8621 3.79887 16.7567 3.9864 16.5692C4.17394 16.3816 4.2793 16.1273 4.2793 15.8621V10.7191C4.2793 10.4538 4.17394 10.1995 3.9864 10.012C3.79887 9.82442 3.54451 9.71906 3.2793 9.71906H2.3713C2.9273 5.84906 6.2573 2.86206 10.2793 2.86206C14.3013 2.86206 17.6313 5.84906 18.1873 9.71906H17.2793C17.0141 9.71906 16.7597 9.82442 16.5722 10.012C16.3847 10.1995 16.2793 10.4538 16.2793 10.7191V16.8621C16.2793 17.9651 15.3823 18.8621 14.2793 18.8621H12.2793V17.8621H8.2793V20.8621H14.2793C16.4853 20.8621 18.2793 19.0681 18.2793 16.8621C19.3823 16.8621 20.2793 16.0291 20.2793 15.0051V10.8621C20.2793 5.34806 15.7933 0.862061 10.2793 0.862061Z"
                      fill="white"
                    />
                  </svg>
                </span>
                <span className="text-white">Need Help?</span>
              </Link>
            </li>
          </ul>
        </div>
      </div>
    </>
  );
};

export default Sidebar;
